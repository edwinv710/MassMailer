<h1>Mailing Lists</h1>

<%= will_filter_tag(@mailing_lists) %>
<%= will_filter_table_tag(@mailing_lists, :columns => [
    :id, 
    {:key => :name,
      :value => lambda{|obj| 
          link_to(obj.name, obj) 
    },:title => "Name"},
    { :key => :count,
        :value => lambda{|obj| 
          obj.emails.size
    },:title => "Count"},  
    { :key => "Destroy",
        :value => lambda{|obj| 
          button_to('Destroy', obj, method: :delete, :class => :destroy, data: { confirm: 'Are you sure?' })
    },:title => "Destroy"},
     [:actions, lambda{ |obj|
              actions = []
              actions << link_to('Edit', :action => :edit, :id => obj.id)   
              actions.join(' | ').html_safe
          }, 'padding:3px;width:150px;padding-left:10px;']
    ] )%>

<br />

<%= link_to 'New Mailing list', new_mailing_list_path %>
